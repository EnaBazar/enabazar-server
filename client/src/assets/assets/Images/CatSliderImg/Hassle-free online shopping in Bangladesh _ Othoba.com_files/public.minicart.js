var miniCart={toggleCuponPanel:function(){$("#CouponDeals").toggleClass("isShow")},loadPicture:function(){$.ajax({cache:!1,url:"/HomeComponent/GetMiniCartItemPicture",type:"GET",success:function(n){var t,i;if(n!=="")for(t=0;t<n.Data.length;t++)i="#minicart_product_"+n.Data[t].ProductId,$(i).attr("src",""+n.Data[t].ImageUrl+"").fadeIn(),$(i).attr("title",""+n.Data[t].Title+""),$(i).attr("alt",""+n.Data[t].AlternateText+"")}})},bindPlusMinus:function(){$(".btn-minus").click(function(){var t=$(this).parent().find("input"),n=parseInt(t.val())-1;return n=n<1?1:n,t.val(n),miniCart.saveCartItems(),!1});$(".btn-plus").click(function(){var n=$(this).parent().find("input");return n.val(parseInt(n.val())+1),miniCart.saveCartItems(),!1})},saveCartItems:function(){var n=$("#flyout_cart_form").serialize();AjaxCart.setLoadWaiting(!0);$.ajax({cache:!1,url:"/updateflyoutcart",data:n,type:"post",success:AjaxCart.success_process,complete:AjaxCart.resetLoadWaiting,error:AjaxCart.ajaxFailure})},bindInputChange:function(n){$("#flyout_cart_form input").on("input",function(){$(this).is(":checkbox")&&miniCart.saveCartItems()});$("#flyout_cart_form input.product-quantity").change(function(){$(this).val()&&$(this).val()>=100&&!confirm(n)});$("#flyout_cart_form input.product-quantity").keypress(function(n){var r=miniCart.numberValidate(n),t=n.which?n.which:event.keyCode,i=n||window.event;t==13&&(i.preventDefault(),miniCart.saveCartItems())})},isNumberKey:function(n){var t=n.which?n.which:event.keyCode;return t!=46&&t>31&&(t<48||t>57)?!1:!0},numberValidate:function(n){var t=n||window.event,i=miniCart.isNumberKey(n);return i||t.preventDefault&&t.preventDefault(),i}}